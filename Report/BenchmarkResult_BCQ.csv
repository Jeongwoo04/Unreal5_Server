,,,,,,,,,,,,,,,,,,결론,SendCount와 BCJobPush 관계,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,100Player Random Move 10 Monster AI,,,,,,,,,,SendCount 평균 26.7 → 하나의 BCJob이 snapshot 내에서 평균 26.7개의 session에 Send를 호출한다는 뜻,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,BCJob Push 쪽 병목이 심함,,,,,,,,,,"Player 랜덤 이동 100명, 300ms 간격, RoomTick 100",,,,,,,
MovePrevSection,3260,0.00760245,0.002,0.073,0.003,0.02,0.00376009,,BCQueue Delay Avg x Sample,,,,,,,,,,총 이동 이벤트 수: 약 33.3회,,,,,,,
BCQueueDelay,5989,0.641884,0,110,0,15,5.9711,,초기 Spike,,,,,,,,,,각 이벤트당 평균 Send = 26.7 → 총 33.3 × 26.7 × 100 = ?88911,,,,,,,
SendCount,5989,29.0581,0,100,3,100,22.5419,,,,,,,,,,,,전체 SendCount = 115439,,,,,,,
MoveToNextPos,3260,0.0197092,0.002,1.748,0.003,0.047,0.0315845,,,,,,,,,,,,따라서 115439 - 88911 ? 26528,,,,,,,
Room,100,5.74525,0.092,14.231,0.093,14.231,2.34302,,,,,,,,,,,,이건 RoomTick 내부에서 발생한 다른 BCJob에서 발생한 Send,,,,,,,
BCJobPush,3260,0.860234,0.546,14.034,0.644,1.143,0.286744,,,,,,,,,,,,BCJobPush 계산,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,26528 / 26.7 ? 992 BCJob → 대략 Tick당 10개의 BCJob이 실행된다는 계산,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,초기 Spike 안정 -> BCQueueDelay 안정,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,SendCount는 BCJob 한 개에 보낼 snapshot 사이즈. 즉 Send 호출 횟수,,,,,,,,,,정적 Bench vs 동적 Bench,,,,,,,BCJobPush를 최적화하면 안정성이 높아질듯
BCQueueDelay,4318,0.0642087,0,0.406,0,0.763,0.792593,,115439.1392,와 11만 5천;,,,,,,,,,"정적 Bench (1000 Player, 움직이지 않음)",,,,,,,Room Update에서 BCJobPush 바로 하고
MovePrevSection,3517,0.00734404,0.002,0.086,0.003,0.02,0.00330076,,100 Player 300ms 마다 -> Room Samples 가 100이니 10s,,,,,,,,,,"SendCount가 훨씬 많음 (267 평균 × 1000 BCJob → 267,000 Send)",,,,,,,HandleMove쪽을 PushBatch로?
Room,100,5.70018,2.313,10.814,2.335,10.814,1.89645,,음 RandomMove가 호출되는게 33.3회 정도? Player 100,,,,,,,,,,Tick 지연은 거의 없었음 → BCJobPush 횟수가 적어서,,,,,,,
MoveToNextPos,3517,0.0186014,0.002,0.21,0.003,0.05,0.0100492,,SendCount가 하나의 Move에 보내는 플레이어가 26.7명정도,,,,,,,,,,"동적 Bench (100 Player, RandomMove)",,,,,,,
BCJobPush,3517,0.83879,0.52,1.623,0.636,1.112,0.102376,,1 Player 한번의 움직임에 26.7 개의 Send가 호출된다.,,,,,,,,,,BCJobPush 횟수 = 3517 → Tick당 Push 횟수가 많아짐,,,,,,,
SendCount,4318,26.7344,1,100,9,100,15.1334,,100Player 는 2670개 Send,,,33.3회면,88911,26528.1392,이만큼이 Room에서 처리되는 Send 양,,,,"SendCount = 26.7 × 3517 ? 94,000 → 실제 Send 횟수와 대략 비슷",,,,,,,
======================================,,,,,,,,,,,,,,,,,,,"여기서 BCJobPush가 병목 포인트 → snapshot 순회, Send 호출, Job 생성 모두 포함",,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
MovePrevSection,3695,0.00868309,0.002,0.815,0.003,0.034,0.017796,,,,,,,,,,,,,,,,,,,
BCQueueDelay,6230,0.77577,0,84.478,0,16,4.95614,,,,,,,,,,,,,,,,,,,
SendCount,6230,29.2801,0,100,9,100,21.7865,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3695,0.0249783,0.002,0.702,0.004,0.117,0.0263798,,,,,,,,,,,,,,,,,,,
Room,100,7.04863,0.085,13.867,0.101,13.867,3.40004,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4411,0.0191079,0.003,1.921,0.005,0.082,0.0404611,,,,,,,,,,,,,,,,,,,
BCAllJobPush,134,0.0116045,0.004,0.164,0.004,0.062,0.0157404,,,,,,,,,,,,,,,,,,,
BCJobPush,3695,1.04234,0.518,20.561,0.648,1.98,0.435959,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,lambda Job Push는 병목이 아니다. 0.017 0.008 / 0.016 0.012 뿐이다.,,,,,,,,,,,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,4788,0.248615,0,16,0,15,1.84395,,,,,,,,,,,,,,,,,,,
MovePrevSection,3891,0.00813159,0.002,0.726,0.003,0.033,0.0175224,,,,,,,,,,,,,,,,,,,
Room,100,7.23627,2.911,14.817,3.299,14.817,2.3917,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3891,0.0225384,0.003,0.355,0.004,0.097,0.016935,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4661,0.0170704,0.002,1.666,0.005,0.07,0.0276731,,,,,,,,,,,,,,,,,,,
BCJobPush,3891,0.995601,0.51,15.502,0.626,1.792,0.363632,,,,,,,,,,,,,,,,,,,
SendCount,4789,25.0002,4,100,7,100,14.1989,,,,,,,,,,,,,,,,,,,
BCAllJobPush,128,0.0084375,0.003,0.041,0.003,0.034,0.00508636,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,4759,0.314753,0,32,0,16,2.35184,,,,,,,,,,,,,,,,,,,
MovePrevSection,3880,0.00765644,0.002,0.251,0.003,0.032,0.00849798,,,,,,,,,,,,,,,,,,,
Room,100,7.03527,0.878,12.678,2.063,12.678,2.63702,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3880,0.0225448,0.002,0.81,0.004,0.107,0.0226238,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4627,0.01645,0.003,0.401,0.006,0.069,0.0144587,,,,,,,,,,,,,,,,,,,
BCJobPush,3880,0.985271,0.53,13.806,0.625,1.778,0.382353,,,,,,,,,,,,,,,,,,,
SendCount,4759,24.7932,5,100,7,100,14.4221,,,,,,,,,,,,,,,,,,,
BCAllJobPush,132,0.0120985,0.003,0.174,0.004,0.106,0.0187923,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,SpatialHash의 FindAroundFloat이 병목이다,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,"0,0 위치를 Room이 GetMap을 하는 초기화 부분에 BCRange만큼 Cell을 담아 캐싱해두기.",,,,,,,,,,,,,,,,,
BCQueueDelay,6073,0.59678,0,84.085,0,16,5.07789,,"x,y 위치에서 BC가 이뤄질경우 Cell offset을 x, y 만큼 옮겨서 반환하기",,,,,,,,,,,,,,,,,
BC_AllSnapshot,127,0.0389213,0.016,0.186,0.017,0.172,0.0220617,,,,,,,,,,,,,,,,,,,
SendCount,6074,29.6441,0,100,7,100,22.4099,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3498,0.0254883,0.002,1.378,0.004,0.08,0.0274151,,,,,,,,,,,,,,,,,,,
Room,100,6.01085,0.681,14.72,0.728,14.72,2.80064,,,,,,,,,,,,,,,,,,,
BC_FindAround,4082,0.965245,0.534,5.016,0.646,1.609,0.210006,,,,,,,,,,,,,,,,,,,
BC_MakeSendBuffer,3851,0.0190758,0.005,0.339,0.006,0.067,0.0149545,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4082,0.0185211,0.004,5.792,0.005,0.071,0.0920147,,,,,,,,,,,,,,,,,,,
BCAllJobPush,127,0.00906299,0.004,0.055,0.004,0.039,0.00675994,,,,,,,,,,,,,,,,,,,
MovePrevSection,3498,0.00891538,0.002,0.344,0.003,0.034,0.0117942,,,,,,,,,,,,,,,,,,,
BCJobPush,3498,1.04222,0.626,9.397,0.716,1.71,0.25556,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 100 dummy BCQueue execute delay, Push BCJob BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,128,0.0354063,0.016,0.176,0.016,0.127,0.0183382,,,,,,,,,,,,,,,,,,,
BCAllJobPush,128,0.00794531,0.003,0.024,0.003,0.019,0.00330083,,,,,,,,,,,,,,,,,,,
BCQueueDelay,4661,0.123582,0,16,0,2.617,1.24719,,,,,,,,,,,,,,,,,,,
SendCount,4661,26.1854,4,100,8,100,14.9028,,,,,,,,,,,,,,,,,,,
BC_FindAround,4533,0.916236,0.522,2.565,0.639,1.458,0.163798,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4533,0.0156806,0.003,0.625,0.005,0.069,0.0164528,,,,,,,,,,,,,,,,,,,
BC_MakeSendBuffer,4314,0.0171729,0.005,0.444,0.006,0.057,0.0132811,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3696,0.0230122,0.002,0.189,0.004,0.079,0.0132071,,,,,,,,,,,,,,,,,,,
Room,100,8.14521,4.059,14.708,4.506,14.708,2.03504,,,,,,,,,,,,,,,,,,,
MovePrevSection,3696,0.00806006,0.002,0.199,0.003,0.028,0.00757418,,,,,,,,,,,,,,,,,,,
BCJobPush,3696,0.98667,0.638,2.659,0.694,1.555,0.172071,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 SpatialHashGrid -> SpatialHash 인덱싱 속도 개선 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,SpatialHashGrid (unordered_map) -> SpatialHash (vector) 변경 후 인덱싱 시간이 90%이상 감소,,,,,,,,,,,,,,,,,
MovePrevSection,3100,0.00724581,0.002,0.093,0.003,0.033,0.00610258,,Room내 로직 오류 수정으로 UpdateTick 감소,,,,,,,,,,,,,,,,,
BCQueueDelay,5497,9.04902,0,67.32,0,32,10.9306,,Update속도가 빨라지고 SendCount가 늘어나 BCQueueDelay 증가.,,,,,,,,,,,,,,,,,
BC_AllSnapshot,127,0.0339921,0.014,0.155,0.014,0.084,0.0162347,,,,,,,,,,,,,,,,,,,
SendCount,5501,31.4376,0,27,4,100,22.7942,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3100,0.0146503,0.002,0.337,0.004,0.053,0.011369,,,,,,,,,,,,,,,,,,,
Room,100,0.87419,0.178,1.971,0.232,1.971,0.388669,,,,,,,,,,,,,,,,,,,
BC_FindAround,3665,0.0869681,0.036,0.737,0.048,0.199,0.0308053,,,,,,,,,,,,,,,,,,,
BCNearJobPush,3665,0.0112139,0.002,0.164,0.003,0.047,0.00905256,,,,,,,,,,,,,,,,,,,
BCAllJobPush,127,0.00948031,0.003,0.052,0.003,0.045,0.00829178,,,,,,,,,,,,,,,,,,,
BCJobPush,3100,0.128075,0.058,1.127,0.076,0.286,0.0461167,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 SpatialHashGrid -> SpatialHash 인덱싱 속도 개선 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BC_FindAround,4087,0.0841632,0.037,0.287,0.044,0.19,0.0282334,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4087,0.0108789,0.002,0.189,0.003,0.046,0.00879872,,,,,,,,,,,,,,,,,,,
BCQueueDelay,4212,11.7956,0,47,0,32,10.2468,,,,,,,,,,,,,,,,,,,
SendCount,4212,26.5845,4,100,6,100,15.1922,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,125,0.032192,0.015,0.075,0.016,0.072,0.0120921,,,,,,,,,,,,,,,,,,,
BCAllJobPush,125,0.008048,0.003,0.027,0.003,0.027,0.00488075,,,,,,,,,,,,,,,,,,,
MoveToNextPos,3394,0.0142563,0.002,0.129,0.003,0.055,0.00984109,,,,,,,,,,,,,,,,,,,
Room,100,1.03457,0.496,2.784,0.502,2.784,0.355274,,,,,,,,,,,,,,,,,,,
MovePrevSection,3394,0.00707189,0.002,0.105,0.002,0.032,0.00614973,,,,,,,,,,,,,,,,,,,
BCJobPush,3394,0.123932,0.051,0.496,0.067,0.271,0.0417106,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 300 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,8891,393.101,0,735,0,1516,386.219,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,127,0.0699213,0.036,0.199,0.038,0.143,0.0190931,,,,,,,,,,,,,,,,,,,
SendCount,8893,87.2704,0,51,23,300,58.0661,,,,,,,,,,,,,,,,,,,
Room,100,0.87131,0.399,2.517,0.43,2.517,0.331302,,,,,,,,,,,,,,,,,,,
BCJobPush,8700,0.131269,0.074,1.245,0.086,0.255,0.0337375,,,,,,,,,,,,,,,,,,,
BC_FindAround,9215,0.0990012,0.041,0.4,0.06,0.176,0.0228654,,,,,,,,,,,,,,,,,,,
BCNearJobPush,9215,0.00967846,0.003,1.765,0.004,0.029,0.0229196,,,,,,,,,,,,,,,,,,,
BCAllJobPush,127,0.0070315,0.003,0.05,0.003,0.034,0.00546706,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 300 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,9604,1542.77,0,2828,0,3219,850.072,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,129,0.0713411,0.037,0.136,0.037,0.133,0.0158806,,,,,,,,,,,,,,,,,,,
SendCount,9606,76.3506,15,79,20,300,33.9577,,,,,,,,,,,,,,,,,,,
BCJobPush,8502,0.130479,0.07,2.263,0.084,0.271,0.0442032,,,,,,,,,,,,,,,,,,,
BC_FindAround,9012,0.0985128,0.045,0.561,0.059,0.195,0.0250475,,,,,,,,,,,,,,,,,,,
BCNearJobPush,9012,0.00962705,0.002,2.088,0.004,0.029,0.0281691,,,,,,,,,,,,,,,,,,,
BCAllJobPush,129,0.00676744,0.003,0.032,0.003,0.022,0.0032979,,,,,,,,,,,,,,,,,,,
Room,100,0.87731,0.276,2.101,0.276,2.101,0.313738,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 300 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,8679,2962.6,0,5875,0,5797,1569.3,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,125,0.069976,0.039,0.142,0.04,0.133,0.015236,,,,,,,,,,,,,,,,,,,
SendCount,8683,73.9653,11,76,17,300,33.3282,,,,,,,,,,,,,,,,,,,
BCJobPush,7394,0.131851,0.068,1.718,0.083,0.285,0.0446514,,,,,,,,,,,,,,,,,,,
BC_FindAround,7864,0.0982042,0.043,1.131,0.054,0.199,0.0310561,,,,,,,,,,,,,,,,,,,
BCNearJobPush,7864,0.00977047,0.002,1.599,0.004,0.034,0.0188742,,,,,,,,,,,,,,,,,,,
BCAllJobPush,125,0.006384,0.003,0.018,0.004,0.013,0.00207378,,,,,,,,,,,,,,,,,,,
Room,100,0.7729,0.262,1.548,0.33,1.548,0.245834,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 300 BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,9367,3381.27,0,6594,0,6500,1957.39,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,131,0.0747252,0.038,0.321,0.039,0.216,0.0305422,,,,,,,,,,,,,,,,,,,
SendCount,9371,70.2167,9,82,15,300,35.4431,,,,,,,,,,,,,,,,,,,
BCJobPush,10086,0.127812,0.066,3.21,0.081,0.258,0.0457573,,,,,,,,,,,,,,,,,,,
BC_FindAround,10784,0.0952909,0.039,0.45,0.053,0.186,0.0236229,,,,,,,,,,,,,,,,,,,
BCNearJobPush,10784,0.00944371,0.002,3.108,0.004,0.028,0.0304357,,,,,,,,,,,,,,,,,,,
BCAllJobPush,131,0.00700763,0.003,0.039,0.003,0.023,0.0040427,,,,,,,,,,,,,,,,,,,
Room,100,1.08265,0.393,3.126,0.542,3.126,0.385107,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCExecuteTime,4775,0.287958,0,0,0,16,2.12633,,,,,,,,,,,,,,,,,,,
BCQueueDelay,5354,10.7576,0,1.936,0,32.019,11.8176,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,126,0.0310159,0.013,0.125,0.013,0.081,0.0125988,,,,,,,,,,,,,,,,,,,
SendCount,5354,33.3523,0,100,8,100,22.4071,,,,,,,,,,,,,,,,,,,
Room,100,0.94581,0.09,2.154,0.091,2.154,0.471346,,,,,,,,,,,,,,,,,,,
BC_FindAround,3799,0.0895204,0.044,0.556,0.055,0.225,0.0308038,,,,,,,,,,,,,,,,,,,
BCNearJobPush,3799,0.0108444,0.002,0.158,0.003,0.048,0.00858381,,,,,,,,,,,,,,,,,,,
BCAllJobPush,126,0.00919841,0.002,0.077,0.003,0.074,0.0108716,,,,,,,,,,,,,,,,,,,
BCJobPush,3200,0.130399,0.062,0.644,0.078,0.316,0.046666,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BC_AllSnapshot,125,0.030368,0.013,0.074,0.015,0.072,0.00953019,,,,,,,,,,,,,,,,,,,
BCAllJobPush,125,0.00724,0.003,0.026,0.003,0.025,0.00390978,,,,,,,,,,,,,,,,,,,
BCQueueDelay,4159,13.0676,0,32,0,32,10.607,,,,,,,,,,,,,,,,,,,
SendCount,4161,28.6919,4,38,7,100,15.4902,,,,,,,,,,,,,,,,,,,
BC_FindAround,4039,0.0898304,0.042,0.398,0.053,0.216,0.0294999,,,,,,,,,,,,,,,,,,,
BCNearJobPush,4039,0.0109485,0.002,0.191,0.003,0.048,0.00887934,,,,,,,,,,,,,,,,,,,
BCExecuteTime,4039,0.356029,0,16,0,16,2.33312,,,,,,,,,,,,,,,,,,,
Room,100,0.996,0.491,2.451,0.499,2.451,0.353711,,,,,,,,,,,,,,,,,,,
BCJobPush,3397,0.130789,0.062,0.643,0.08,0.331,0.0456379,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 200 test BENCHMARK SUMMARY ==========,,,,,,,,,,Broadcast batch 고민중 Client는 선적용으로 이미 본인의 화면에 predict를 하고음.,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,Server가 Client에서 틱마다 오는 C_MOVE를 처리해서 모두 보낸다고 해도 의미가 없다.,,,,,,,,,,,,,,,,
BCQueueDelay,7958,55.9445,0,0,0,203,50.8514,,,Flush로 PosInfo가 변경될때 마지막에 알림만 한다. C_MOVE로 들어오는 모든 판정은 즉시,,,,,,,,,,,,,,,,
SendCount,7960,57.9866,0,200,19,200,38.9963,,,interested player 관리 해서 spawn despawn도 처리해보자,,,,,,,,,,,,,,,,
Room,100,0.82314,0.119,1.911,0.127,1.911,0.299027,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 200 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,7525,96.2066,0,0,0,235,67.3645,,,,,,,,,,,,,,,,,,,
SendCount,7528,48.0721,7,200,15,200,23.5533,,,,,,,,,,,,,,,,,,,
Room,100,0.83949,0.347,1.334,0.406,1.334,0.212719,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 200 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,7680,73.3144,0,0,0,204,57.802,,,,,,,,,,,,,,,,,,,
SendCount,7683,46.669,7,56,13,200,24.1742,,,,,,,,,,,,,,,,,,,
Room,100,0.79708,0.313,1.676,0.323,1.676,0.242251,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 200 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,385,0.0258909,0.005,0.248,0.007,0.101,0.0180608,,,,,,,,,,,,,,,,,,,
SendCount,385,0.638961,0,1,0,1,0.480302,,,,,,,,,,,,,,,,,,,
Room,100,0.38167,0.235,0.657,0.282,0.657,0.0695718,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 200 test BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,385,45.8912,0.006,7484.78,0.008,1357.36,439.653,,,,,,,,,,,,,,,,,,,
SendCount,385,0.802597,0,1,0,1,0.398039,,,,,,,,,,,,,,,,,,,
Room,100,421.457,0.229,19819.6,0.28,19819.6,2190.75,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 flushbroadcast BENCHMARK SUMMARY ==========,,,,,,,,,AOI Cell 크기 조절 실패. AOI 구조 분리는 추후 적용,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,현재 Flush 형식의 Broadcast는 SendCount가 줄어들어 효과가 있음,,,,,,,,,,,,,,,,,
BCQueueDelay,358,0.0453911,0,0.871,0.015,0.362,0.0693268,,,,,,,,,,,,,,,,,,,
SendCount,358,1.15922,0,2,0,2,0.927429,,,,,,,,,,,,,,,,,,,
Room,100,0.54444,0.337,4.194,0.337,4.194,0.430689,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,0.45526,0.264,4.099,0.266,4.099,0.428012,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 flushbroadcast BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,100,0.15769,0.014,9.444,0.018,9.444,0.948969,,,,,,,,,,,,,,,,,,,
SendCount,100,2,2,2,2,2,0,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,2.33418,0.253,59.931,0.259,59.931,8.17296,,,,,,,,,,,,,,,,,,,
Room,100,2.44588,0.312,60.018,0.324,60.018,8.18011,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 flushbroadcast BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,389,0.0214756,0,0.238,0,0.057,0.0151618,,,,,,,,,,,,,,,,,,,
SendCount,389,4.69409,0,5,0,5,1.17449,,,,,,,,,,,,,,,,,,,
Room,100,4.51423,0.266,32.097,0.278,32.097,7.39424,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,4.38899,0.193,31.974,0.201,31.974,7.38578,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 flushbroadcast BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,100,0.02094,0.011,0.082,0.012,0.082,0.00746434,,,,,,,,,,,,,,,,,,,
SendCount,100,5,5,5,5,5,0,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,0.25987,0.2,0.454,0.2,0.454,0.0368686,,,,,,,,,,,,,,,,,,,
Room,100,0.38228,0.26,0.602,0.275,0.602,0.0619426,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 flushbroadcast BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,115,0.0225826,0,0.134,0,0.126,0.0201753,,,,,,,,,,,,,,,,,,,
SendCount,115,4.01739,0,5,0,5,1.9336,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,7.97828,0.198,48.223,0.199,48.223,12.193,,,,,,,,,,,,,,,,,,,
Room,100,8.1127,0.257,48.419,0.286,48.419,12.1909,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,Room Logic 오류 발견 GetSafePos Steps 비율 오류,,,,,,,,,,,,,,,,,
BCQueueDelay,869,0.0567537,0,1.017,0,0.8,0.174256,,,,,,,,,,,,,,,,,,,
SendCount,870,28.823,5,100,6,100,26.6156,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,1.43732,0.011,3.765,0.011,3.765,1.44214,,,,,,,,,,,,,,,,,,,
Room,100,9.25699,4.357,14.446,4.825,14.446,2.19617,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,829,0.0662159,0,0.996,0,0.832,0.191977,,,,,,,,,,,,,,,,,,,
SendCount,829,29.1098,5,100,7,100,27.0696,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,1.34567,0.011,3.557,0.011,3.557,1.42908,,,,,,,,,,,,,,,,,,,
Room,100,8.68385,3.037,14.83,3.141,14.83,2.39656,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
RemoveList,100,0.0499,0.023,0.288,0.03,0.288,0.0268188,,,,,,,,,,,,,,,,,,,
Monster,100,0.58919,0.008,5.455,0.009,5.455,1.0377,,,,,,,,,,,,,,,,,,,
Room,100,7.5329,0.091,21.243,0.096,21.243,3.76867,,,,,,,,,,,,,,,,,,,
Projectile,100,3.45915,0.002,21.093,0.002,21.093,3.14818,,,,,,,,,,,,,,,,,,,
SkillSystem,100,0.30198,0.003,2.122,0.003,2.122,0.554747,,,,,,,,,,,,,,,,,,,
Field,100,1.82123,0.002,5.298,0.002,5.298,1.74971,,,,,,,,,,,,,,,,,,,
BCQueueDelay,673,0.0814978,0,1.663,0,0.928,0.237675,,,,,,,,,,,,,,,,,,,
SendCount,673,33.679,0,100,0,100,27.844,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,1.26063,0.004,4.307,0.005,4.307,1.46116,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 100 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
Monster,100,2.57948,0.008,6.584,0.011,6.584,1.63366,,,,,,,,,,,,,,,,,,,
BCQueueDelay,811,0.0702528,0,1.252,0,0.884,0.209325,,,,,,,,,,,,,,,,,,,
SendCount,811,33.9236,3,100,4,100,26.9341,,,,,,,,,,,,,,,,,,,
Room,100,8.80989,2.986,17.175,3.16,17.175,3.32976,,,,,,,,,,,,,,,,,,,
Projectile,100,3.04103,0.005,8.039,0.005,8.039,1.90841,,,,,,,,,,,,,,,,,,,
Field,100,1.46523,0.002,7.033,0.002,7.033,1.95014,,,,,,,,,,,,,,,,,,,
SkillSystem,100,0.29056,0.003,1.425,0.004,1.425,0.457275,,,,,,,,,,,,,,,,,,,
RemoveList,100,0.05661,0.036,0.281,0.037,0.281,0.0283513,,,,,,,,,,,,,,,,,,,
FlushBroadcast,100,1.32332,0.008,3.472,0.008,3.472,1.36037,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 1000 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,789,0.0855032,0,1.873,0,1.086,0.259463,,,,,,,,,,,,,,,,,,,
SendCount,789,31.3511,0,100,0,100,26.2651,,,,,,,,,,,,,,,,,,,
Room,100,8.64162,0.06,17.254,0.064,17.254,4.21307,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 1000 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
BCQueueDelay,889,0.0646952,0,1.193,0,0.829,0.191634,,,,,,,,,,,,,,,,,,,
SendCount,890,32.3865,8,100,8,100,24.9636,,,,,,,,,,,,,,,,,,,
Room,100,9.9542,4.484,19.691,5.084,19.691,2.89101,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 1000 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,pkt type 별 Send,,,,,,,,,,,,,,,,
BCNearbySnapshot,511,0.415896,0.169,0.835,0.191,0.699,0.113696,,,"Player N , Type Count K",,,,,,,,,,,,,,,,
BCQueueDelay,511,0.426614,0,16,0,16,2.54317,,,N x K Send량,,,,,,,,,,,,,,,,
SendCount,511,275.798,102,373,110,372,81.9694,,,,,,,,,,,,,,,,,,,
Monster,100,15.34,0.127,27.862,0.129,27.862,5.97256,,,> Move 로직 오류 수정,,,,,,,,,,,,,,,,
ProjectileFind,121,0.00870248,0.003,0.026,0.003,0.02,0.0035271,,,,,,,,,,,,,,,,,,,
Room,100,50.0607,31.273,87.257,32.522,87.257,10.2843,,,,,,,,,,,,,,,,,,,
Projectile,100,13.2264,0.108,26.488,0.113,26.488,7.53712,,,> Move 로직 오류 수정,,,,,,,,,,,,,,,,
Field,100,0.67837,0.113,1.589,0.114,1.589,0.358717,,,,,,,,,,,,,,,,,,,
SkillSystem,100,0.21591,0.05,1.035,0.052,1.035,0.253801,,,,,,,,,,,,,,,,,,,
RemoveList,100,0.04071,0.022,0.082,0.023,0.082,0.0113897,,,,,,,,,,,,,,,,,,,
FlushTickBroadcast,100,20.4888,14.284,32.607,14.305,32.607,3.66946,,,,,,,,,,,,,,,,,,,
MonsterRaycasting,198,0.0190758,0.007,0.058,0.008,0.047,0.00737518,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 dummy 1000 flush broadcast all BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
MonsterFind,34,0.0553235,0.021,0.23,0.021,0.23,0.0375027,,,,,,,,,,,,,,,,,,,
RemoveList,100,0.01993,0.001,0.094,0.002,0.094,0.0157691,,,,,,,,,,,,,,,,,,,
Monster,100,2.71877,0.022,19.93,0.023,19.93,5.86939,,,,,,,,,,,,,,,,,,,
Projectile,100,12.8558,0.003,26.407,0.004,26.407,7.77766,,,,,,,,,,,,,,,,,,,
Room,100,46.7583,0.089,99.554,0.09,99.554,22.1934,,,,,,,,,,,,,,,,,,,
FlushTickBroadcast,100,19.2291,0.005,46.139,0.005,46.139,10.0702,,,,,,,,,,,,,,,,,,,
SkillSystem,100,0.26239,0.003,1.8,0.004,1.8,0.334509,,,,,,,,,,,,,,,,,,,
Field,100,11.5943,0.003,24.651,0.003,24.651,8.25977,,,,,,,,,,,,,,,,,,,
BCNearbySnapshot,60,0.381117,0.11,0.807,0.11,0.807,0.160429,,,,,,,,,,,,,,,,,,,
BCQueueDelay,60,2.06667,0,31,0,31,5.98294,,,,,,,,,,,,,,,,,,,
SendCount,60,231.05,51,346,51,346,100.985,,,,,,,,,,,,,,,,,,,
MonsterRaycasting,22,0.028,0.021,0.042,0.021,0.042,0.00489898,,,,,,,,,,,,,,,,,,,
ProjectileFind,130,0.00903846,0.002,0.055,0.002,0.049,0.00667533,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 1000 active dummy Hybrid Flush Server BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,최종 Flush Pkt를 활용 Pkt 우선순위를 고려한 Event Ordering 정책 적용,,,,,,,,,,,,,,,,
DeferPktCount,94,30.9362,0,1010,0,1010,102.366,,,Flush Pkt 로 통합 batch후 Send,,,,,,,,,,,,,,,,
FlushImmediateBroadcast,100,0.15442,0.007,3.023,0.008,3.023,0.534826,,,최종 Send량 N x 2,,,,,,,,,,,,,,,,
Room,100,0.80667,0.064,6.767,0.085,6.767,0.936242,,,,,,,,,,,,,,,,,,,
FlushDeferBroadcast,100,0.34975,0.013,4.34,0.019,4.34,0.426765,,,,,,,,,,,,,,,,,,,
ImmediatePktCount,8,624,200,1000,200,1000,298.046,,,,,,,,,,,,,,,,,,,
BCQueueDelay,102,1.81111,0.016,26.932,0.017,26.24,6.13975,,,,,,,,,,,,,,,,,,,
SendCount,102,862.745,0,1000,0,1000,344.116,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 1000 active dummy Hybrid Flush Server BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
DeferPktCount,62,14.2258,0,30,0,30,8.40011,,,,,,,,,,,,,,,,,,,
FlushImmediateBroadcast,100,0.20653,0.008,3.758,0.008,3.758,0.666106,,,,,,,,,,,,,,,,,,,
Room,100,0.7096,0.158,4.447,0.165,4.447,0.720821,,,,,,,,,,,,,,,,,,,
FlushDeferBroadcast,100,0.23051,0.014,0.524,0.017,0.524,0.165054,,,,,,,,,,,,,,,,,,,
ImmediatePktCount,10,700.2,85,1000,85,1000,349.757,,,,,,,,,,,,,,,,,,,
BCQueueDelay,72,2.06618,0.016,29.92,0.016,29.92,6.84636,,,,,,,,,,,,,,,,,,,
SendCount,72,1000,1000,1000,1000,1000,0,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 1000 active dummy Hybrid Flush Server BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
DeferPktCount,59,12.2712,5,25,5,25,4.70424,,,,,,,,,,,,,,,,,,,
FlushImmediateBroadcast,100,0.21247,0.007,2.606,0.007,2.606,0.590608,,,,,,,,,,,,,,,,,,,
Room,100,0.69078,0.148,3.314,0.153,3.314,0.651404,,,,,,,,,,,,,,,,,,,
FlushDeferBroadcast,100,0.21493,0.016,0.504,0.016,0.504,0.164127,,,,,,,,,,,,,,,,,,,
ImmediatePktCount,13,615.385,2,1000,2,1000,380.42,,,,,,,,,,,,,,,,,,,
BCQueueDelay,72,2.49729,0.017,27.041,0.017,27.041,7.05273,,,,,,,,,,,,,,,,,,,
SendCount,72,1000,1000,1000,1000,1000,0,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
========== RoomId : 1 1000 active dummy Hybrid Flush Server BENCHMARK SUMMARY ==========,,,,,,,,,,,,,,,,,,,,,,,,,,
Name,Samples,Avg,Min,Max,p01,p99,StdDev,,,,,,,,,,,,,,,,,,,
DeferPktCount,92,16.0761,5,27,5,27,6.26452,,,,,,,,,,,,,,,,,,,
FlushImmediateBroadcast,100,0.17021,0.007,2.878,0.008,2.878,0.550126,,,,,,,,,,,,,,,,,,,
Room,100,0.85143,0.199,3.465,0.235,3.465,0.573439,,,,,,,,,,,,,,,,,,,
FlushDeferBroadcast,100,0.32934,0.021,0.822,0.023,0.822,0.114838,,,,,,,,,,,,,,,,,,,
ImmediatePktCount,11,545.909,2,1000,2,1000,427.766,,,,,,,,,,,,,,,,,,,
BCQueueDelay,103,2.05815,0.016,27.841,0.017,25.18,6.30797,,,,,,,,,,,,,,,,,,,
SendCount,103,1000,1000,1000,1000,1000,0,,,,,,,,,,,,,,,,,,,
======================================,,,,,,,,,,,,,,,,,,,,,,,,,,
